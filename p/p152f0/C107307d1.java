package p152f0;

import fy3.C32224a;
import fy3.C32226l;
import fy3.C32227p;
import gy3.C87412m;
import gy3.C87413o;
import iy3.C60641c;
import java.util.ArrayList;
import java.util.List;
import kotlin.ResultKt;
import p1166z0.C112539e;
import p1166z0.C112541g;
import p155g0.C107623j;
import p155g0.C107625k;
import p155g0.C107629m;
import p155g0.C107649v;
import p155g0.C107650w;
import p175j0.C24725u1;
import p190l1.C109099h0;
import p190l1.C109119z;
import p246u1.C111082p;
import p436a1.C103221a0;
import p436a1.C103256p0;
import p436a1.C103266t0;
import p560i2.C108321c;
import p560i2.C33177j;
import p560i2.C33179k;
import p560i2.C33181m;
import p631o1.C109827a0;
import p631o1.C109845i0;
import p631o1.C109846j;
import p631o1.C109848k;
import p631o1.C109854n0;
import p631o1.C109857o;
import p631o1.C109893x;
import p631o1.C109895y;
import p631o1.C109899z;
import p631o1.C61912b;
import p721v0.C65503j;
import p735w1.C111688e;
import p735w1.C111703v;
import p735w1.C37958a;
import p868x0.C111983i;
import rx3.C13598b0;
import rx3.C13604l;
import sx3.C90364q0;
import wx3.C15601d;
import xx3.C15911a;
import yx3.C91590f;
import yx3.C91594j;

/* renamed from: f0.d1 */
public final class C107307d1 implements C24725u1 {

    /* renamed from: d */
    public final C107406r2 f321050d;

    /* renamed from: e */
    public C107649v f321051e;

    /* renamed from: f */
    public C107351i1 f321052f;

    /* renamed from: g */
    public final C109895y f321053g = new C107309b(this);

    /* renamed from: h */
    public final C65503j f321054h;

    /* renamed from: i */
    public C65503j f321055i;

    /* renamed from: j */
    public C65503j f321056j;

    /* renamed from: f0.d1$a */
    public static final class C107308a extends C87413o implements C32226l<C109857o, C13598b0> {

        /* renamed from: d */
        public final /* synthetic */ C107307d1 f321057d;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        public C107308a(C107307d1 d1Var) {
            super(1);
            this.f321057d = d1Var;
        }

        /* JADX WARNING: Code restructure failed: missing block: B:4:0x0029, code lost:
            r6 = r5.f321057d;
         */
        /* Code decompiled incorrectly, please refer to instructions dump. */
        public java.lang.Object invoke(java.lang.Object r6) {
            /*
                r5 = this;
                o1.o r6 = (p631o1.C109857o) r6
                java.lang.String r0 = "it"
                gy3.C87412m.m108594g(r6, r0)
                f0.d1 r0 = r5.f321057d
                f0.r2 r1 = r0.f321050d
                r1.f321369e = r6
                g0.v r0 = r0.f321051e
                long r1 = r1.f321366b
                boolean r0 = p155g0.C107650w.m145825a(r0, r1)
                if (r0 == 0) goto L_0x003c
                long r0 = p1166z0.C112539e.f336955b
                long r0 = r6.mo161177Q(r0)
                f0.d1 r6 = r5.f321057d
                f0.r2 r6 = r6.f321050d
                long r2 = r6.f321371g
                boolean r6 = p1166z0.C112539e.m153736a(r0, r2)
                if (r6 != 0) goto L_0x0036
                f0.d1 r6 = r5.f321057d
                g0.v r2 = r6.f321051e
                if (r2 == 0) goto L_0x0036
                f0.r2 r6 = r6.f321050d
                long r3 = r6.f321366b
                r2.mo158063d(r3)
            L_0x0036:
                f0.d1 r6 = r5.f321057d
                f0.r2 r6 = r6.f321050d
                r6.f321371g = r0
            L_0x003c:
                rx3.b0 r6 = rx3.C13598b0.f38549a
                return r6
            */
            throw new UnsupportedOperationException("Method not decompiled: p152f0.C107307d1.C107308a.invoke(java.lang.Object):java.lang.Object");
        }
    }

    /* renamed from: f0.d1$b */
    public static final class C107309b implements C109895y {

        /* renamed from: a */
        public final /* synthetic */ C107307d1 f321058a;

        /* renamed from: f0.d1$b$a */
        public static final class C107310a extends C87413o implements C32226l<C109854n0.C109855a, C13598b0> {

            /* renamed from: d */
            public final /* synthetic */ List<C13604l<C109854n0, C33177j>> f321059d;

            /* JADX INFO: super call moved to the top of the method (can break code semantics) */
            public C107310a(List<? extends C13604l<? extends C109854n0, C33177j>> list) {
                super(1);
                this.f321059d = list;
            }

            public Object invoke(Object obj) {
                C109854n0.C109855a aVar = (C109854n0.C109855a) obj;
                C87412m.m108594g(aVar, "$this$layout");
                List<C13604l<C109854n0, C33177j>> list = this.f321059d;
                int size = list.size();
                for (int i = 0; i < size; i++) {
                    C13604l lVar = list.get(i);
                    long j = ((C33177j) lVar.f38556e).f90052a;
                    C109854n0.C109855a.m149305e(aVar, (C109854n0) lVar.f38555d, j, 0.0f, 2, (Object) null);
                }
                return C13598b0.f38549a;
            }
        }

        public C107309b(C107307d1 d1Var) {
            this.f321058a = d1Var;
        }

        /* renamed from: a */
        public int mo142884a(C109848k kVar, List<? extends C109846j> list, int i) {
            C87412m.m108594g(kVar, "<this>");
            C87412m.m108594g(list, "measurables");
            return C33181m.m39966b(this.f321058a.f321050d.f321365a.mo157803a(C108321c.m146704a(0, i, 0, Integer.MAX_VALUE), kVar.getLayoutDirection(), (C111703v) null).f334373c);
        }

        /* renamed from: b */
        public int mo142885b(C109848k kVar, List<? extends C109846j> list, int i) {
            C87412m.m108594g(kVar, "<this>");
            C87412m.m108594g(list, "measurables");
            this.f321058a.f321050d.f321365a.mo157804b(kVar.getLayoutDirection());
            C111688e eVar = this.f321058a.f321050d.f321365a.f321176i;
            if (eVar != null) {
                return (int) ((float) Math.ceil((double) eVar.mo157585a()));
            }
            throw new IllegalStateException("layoutIntrinsics must be called first");
        }

        /* renamed from: c */
        public int mo142886c(C109848k kVar, List<? extends C109846j> list, int i) {
            C87412m.m108594g(kVar, "<this>");
            C87412m.m108594g(list, "measurables");
            return C33181m.m39966b(this.f321058a.f321050d.f321365a.mo157803a(C108321c.m146704a(0, i, 0, Integer.MAX_VALUE), kVar.getLayoutDirection(), (C111703v) null).f334373c);
        }

        /* renamed from: d */
        public C109899z mo142887d(C109827a0 a0Var, List<? extends C109893x> list, long j) {
            C107649v vVar;
            C109827a0 a0Var2 = a0Var;
            List<? extends C109893x> list2 = list;
            C87412m.m108594g(a0Var2, "$this$measure");
            C87412m.m108594g(list2, "measurables");
            C111703v a = this.f321058a.f321050d.f321365a.mo157803a(j, a0Var.getLayoutDirection(), this.f321058a.f321050d.f321370f);
            if (!C87412m.m108589b(this.f321058a.f321050d.f321370f, a)) {
                this.f321058a.f321050d.f321367c.invoke(a);
                C107307d1 d1Var = this.f321058a;
                C111703v vVar2 = d1Var.f321050d.f321370f;
                if (!(vVar2 == null || C87412m.m108589b(vVar2.f334371a.f334361a, a.f334371a.f334361a) || (vVar = d1Var.f321051e) == null)) {
                    vVar.mo158066g(d1Var.f321050d.f321366b);
                }
            }
            this.f321058a.f321050d.f321370f = a;
            if (list.size() >= a.f334376f.size()) {
                List<C112541g> list3 = a.f334376f;
                ArrayList arrayList = new ArrayList(list3.size());
                int size = list3.size();
                for (int i = 0; i < size; i++) {
                    C112541g gVar = list3.get(i);
                    C13604l lVar = gVar != null ? new C13604l(((C109893x) list2.get(i)).mo161155K(C108321c.m146705b(0, (int) ((float) Math.floor((double) (gVar.f336963c - gVar.f336961a))), 0, (int) ((float) Math.floor((double) (gVar.f336964d - gVar.f336962b))), 5, (Object) null)), new C33177j(C33179k.m39964a(C60641c.m70921b(gVar.f336961a), C60641c.m70921b(gVar.f336962b)))) : null;
                    if (lVar != null) {
                        arrayList.add(lVar);
                    }
                }
                long j2 = a.f334373c;
                return a0Var2.mo144573t((int) (j2 >> 32), C33181m.m39966b(j2), C90364q0.m113147f(new C13604l(C61912b.f176019a, Integer.valueOf(C60641c.m70921b(a.f334374d))), new C13604l(C61912b.f176020b, Integer.valueOf(C60641c.m70921b(a.f334375e)))), new C107310a(arrayList));
            }
            throw new IllegalStateException("Check failed.".toString());
        }

        /* renamed from: e */
        public int mo142888e(C109848k kVar, List<? extends C109846j> list, int i) {
            C87412m.m108594g(kVar, "<this>");
            C87412m.m108594g(list, "measurables");
            this.f321058a.f321050d.f321365a.mo157804b(kVar.getLayoutDirection());
            C111688e eVar = this.f321058a.f321050d.f321365a.f321176i;
            if (eVar != null) {
                return (int) ((float) Math.ceil((double) eVar.mo157587c()));
            }
            throw new IllegalStateException("layoutIntrinsics must be called first");
        }
    }

    /* renamed from: f0.d1$c */
    public static final class C107311c extends C87413o implements C32224a<C109857o> {

        /* renamed from: d */
        public final /* synthetic */ C107307d1 f321060d;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        public C107311c(C107307d1 d1Var) {
            super(0);
            this.f321060d = d1Var;
        }

        public Object invoke() {
            return this.f321060d.f321050d.f321369e;
        }
    }

    /* renamed from: f0.d1$d */
    public static final class C107312d extends C87413o implements C32224a<C111703v> {

        /* renamed from: d */
        public final /* synthetic */ C107307d1 f321061d;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        public C107312d(C107307d1 d1Var) {
            super(0);
            this.f321061d = d1Var;
        }

        public Object invoke() {
            return this.f321061d.f321050d.f321370f;
        }
    }

    /* renamed from: f0.d1$e */
    public static final class C107313e implements C107351i1 {

        /* renamed from: a */
        public long f321062a;

        /* renamed from: b */
        public long f321063b;

        /* renamed from: c */
        public final /* synthetic */ C107307d1 f321064c;

        /* renamed from: d */
        public final /* synthetic */ C107649v f321065d;

        public C107313e(C107307d1 d1Var, C107649v vVar) {
            this.f321064c = d1Var;
            this.f321065d = vVar;
            int i = C112539e.f336958e;
            long j = C112539e.f336955b;
            this.f321062a = j;
            this.f321063b = j;
        }

        /* renamed from: a */
        public void mo157797a(long j) {
            C107307d1 d1Var = this.f321064c;
            C109857o oVar = d1Var.f321050d.f321369e;
            if (oVar != null) {
                C107649v vVar = this.f321065d;
                if (oVar.mo161183y()) {
                    if (C107307d1.m145448a(d1Var, j, j)) {
                        vVar.mo158069j(d1Var.f321050d.f321366b);
                    } else {
                        int i = C107629m.f322022a;
                        vVar.mo158062c(oVar, j, C107629m.C107630a.f322025c);
                    }
                    this.f321062a = j;
                } else {
                    return;
                }
            }
            if (C107650w.m145825a(this.f321065d, this.f321064c.f321050d.f321366b)) {
                int i2 = C112539e.f336958e;
                this.f321063b = C112539e.f336955b;
            }
        }

        /* renamed from: b */
        public void mo157798b() {
        }

        /* renamed from: c */
        public void mo157799c(long j) {
        }

        /* renamed from: d */
        public void mo157800d(long j) {
            C107307d1 d1Var = this.f321064c;
            C109857o oVar = d1Var.f321050d.f321369e;
            if (oVar != null) {
                C107649v vVar = this.f321065d;
                if (oVar.mo161183y() && C107650w.m145825a(vVar, d1Var.f321050d.f321366b)) {
                    long g = C112539e.m153742g(this.f321063b, j);
                    this.f321063b = g;
                    long g2 = C112539e.m153742g(this.f321062a, g);
                    if (!C107307d1.m145448a(d1Var, this.f321062a, g2)) {
                        long j2 = this.f321062a;
                        int i = C107629m.f322022a;
                        if (vVar.mo158067h(oVar, g2, j2, false, C107629m.C107630a.f322026d)) {
                            this.f321062a = g2;
                            int i2 = C112539e.f336958e;
                            this.f321063b = C112539e.f336955b;
                        }
                    }
                }
            }
        }

        public void onCancel() {
            if (C107650w.m145825a(this.f321065d, this.f321064c.f321050d.f321366b)) {
                this.f321065d.mo158064e();
            }
        }

        public void onStop() {
            if (C107650w.m145825a(this.f321065d, this.f321064c.f321050d.f321366b)) {
                this.f321065d.mo158064e();
            }
        }
    }

    @C91590f(mo125468c = "androidx.compose.foundation.text.TextController$update$2", mo125469f = "CoreText.kt", mo125470l = {187}, mo125471m = "invokeSuspend")
    /* renamed from: f0.d1$f */
    public static final class C107314f extends C91594j implements C32227p<C109119z, C15601d<? super C13598b0>, Object> {

        /* renamed from: d */
        public int f321066d;

        /* renamed from: e */
        public /* synthetic */ Object f321067e;

        /* renamed from: f */
        public final /* synthetic */ C107307d1 f321068f;

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        public C107314f(C107307d1 d1Var, C15601d<? super C107314f> dVar) {
            super(2, dVar);
            this.f321068f = d1Var;
        }

        public final C15601d<C13598b0> create(Object obj, C15601d<?> dVar) {
            C107314f fVar = new C107314f(this.f321068f, dVar);
            fVar.f321067e = obj;
            return fVar;
        }

        public Object invoke(Object obj, Object obj2) {
            return ((C107314f) create((C109119z) obj, (C15601d) obj2)).invokeSuspend(C13598b0.f38549a);
        }

        public final Object invokeSuspend(Object obj) {
            C15911a aVar = C15911a.COROUTINE_SUSPENDED;
            int i = this.f321066d;
            if (i == 0) {
                ResultKt.throwOnFailure(obj);
                C109119z zVar = (C109119z) this.f321067e;
                C107351i1 i1Var = this.f321068f.f321052f;
                if (i1Var != null) {
                    this.f321066d = 1;
                    if (C107421u0.m145521a(zVar, i1Var, this) == aVar) {
                        return aVar;
                    }
                } else {
                    C87412m.m108603p("longPressDragObserver");
                    throw null;
                }
            } else if (i == 1) {
                ResultKt.throwOnFailure(obj);
            } else {
                throw new IllegalStateException("call to 'resume' before 'invoke' with coroutine");
            }
            return C13598b0.f38549a;
        }
    }

    public C107307d1(C107406r2 r2Var) {
        C107406r2 r2Var2 = r2Var;
        C87412m.m108594g(r2Var2, "state");
        this.f321050d = r2Var2;
        C65503j.C65504a aVar = C65503j.C65504a.f188490d;
        this.f321054h = C109845i0.m149273a(C111983i.m152700a(C103221a0.m136603b(aVar, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0.0f, 0, (C103266t0) null, false, (C103256p0) null, 0, 0, 65535, (Object) null), new C107344g1(this)), new C107308a(this));
        this.f321055i = C111082p.m151476b(aVar, false, new C107336f1(r2Var2.f321365a.f321168a, this));
        this.f321056j = aVar;
    }

    /* renamed from: a */
    public static final boolean m145448a(C107307d1 d1Var, long j, long j2) {
        C111703v vVar = d1Var.f321050d.f321370f;
        if (vVar == null) {
            return false;
        }
        int length = vVar.f334371a.f334361a.f100413d.length();
        int l = vVar.mo163376l(j);
        int l2 = vVar.mo163376l(j2);
        int i = length - 1;
        return (l >= i && l2 >= i) || (l < 0 && l2 < 0);
    }

    /* renamed from: b */
    public void mo51625b() {
        C107649v vVar;
        C107625k kVar = this.f321050d.f321368d;
        if (kVar != null && (vVar = this.f321051e) != null) {
            vVar.mo158061b(kVar);
        }
    }

    /* renamed from: c */
    public void mo51626c() {
        C107649v vVar = this.f321051e;
        if (vVar != null) {
            C107406r2 r2Var = this.f321050d;
            r2Var.f321368d = vVar.mo158060a(new C107623j(r2Var.f321366b, new C107311c(this), new C107312d(this)));
        }
    }

    /* renamed from: d */
    public void mo51627d() {
        C107649v vVar;
        C107625k kVar = this.f321050d.f321368d;
        if (kVar != null && (vVar = this.f321051e) != null) {
            vVar.mo158061b(kVar);
        }
    }

    /* renamed from: e */
    public final void mo157795e(C107347h1 h1Var) {
        C87412m.m108594g(h1Var, "textDelegate");
        C107406r2 r2Var = this.f321050d;
        if (r2Var.f321365a != h1Var) {
            r2Var.f321365a = h1Var;
            C37958a aVar = h1Var.f321168a;
            int i = C65503j.f188489K0;
            this.f321055i = C111082p.m151476b(C65503j.C65504a.f188490d, false, new C107336f1(aVar, this));
        }
    }

    /* renamed from: f */
    public final void mo157796f(C107649v vVar) {
        C65503j jVar;
        this.f321051e = vVar;
        if (vVar != null) {
            C107313e eVar = new C107313e(this, vVar);
            this.f321052f = eVar;
            jVar = C109099h0.m148137a(C65503j.C65504a.f188490d, eVar, new C107314f(this, (C15601d<? super C107314f>) null));
        } else {
            jVar = C65503j.C65504a.f188490d;
        }
        this.f321056j = jVar;
    }
}
